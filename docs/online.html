---
layout: default
title: try it
---
<p>Type your Rockstar program here, or try these examples: <a href="online?load=/rockstar/examples/fizzbuzz.rock">fizzbuzz</a>
    &bull; <a href="online?load=/rockstar/examples/99_beers.rock">99 bottles of beer</a></p>
<textarea id="program-source">Rockstar is a big bad monster
Shout Rockstar
</textarea>
<input type="button" value="Rock!" onclick="rock();" />
<p>Output:</p>
<textarea id="program-output"></textarea>
<p>Online Rockstar interpreter powered by <a href="https://github.com/RockstarLang/rockstar/tree/master/satriani">Satriani</a>.</p>



<script type="text/javascript" src="js/satriani.js"></script>
<script type="text/javascript">
    function output(...args) {
        document.getElementById('program-output').value += args + '\n';
    }

    function rock() {
        document.getElementById('program-output').value = '';
        let source = document.getElementById('program-source').value + "\n\n\n\n\n";
        let input = () => { return window.prompt('Rockstar:'); }
        let rockstar = new Satriani.Interpreter(output);
        try {
            rockstar.run(source, input, output);
        } catch (e) {
            if (e.location && e.location.start) {
                var lines = source.split(/\n/);
                output(lines[e.location.start.line - 1]);
                output(' '.repeat(e.location.start.column - 1) + '^');
                output(e.message);
                output(sourceFilePath + " line " + e.location.start.line + " col " + e.location.start.column);
            } else {
                output(e);
            }
        }
    }

    $(function () {
        if (location.search && location.search.split) {
            pairs = location.search.substring(1).split('&');
            for (var i = 0; i < pairs.length; i++) {
                if (pairs[i] && pairs[i].split) bits = pairs[i].split('=');
                if (bits[0] == 'load') loadRockstar(bits[1]);
            }
        }
        $('#program-source').keydown(function (e) {
            if ((e.metaKey || e.ctrlKey) && e.keyCode == 13) rock();
        });
    });

    function loadRockstar(url) {
        $.get(url, function (data) {
            document.getElementById('program-source').value = data;

        });
        return (false);
    }





</script>